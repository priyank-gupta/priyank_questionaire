

<% if params[:id] != "" %>
  <% (1..4).each do |index| %>
    <% if @question.options[index-1] %>
      <%= text_field_tag "question[option[#{index}]]", @question.options[index-1].body %>&nbsp;&nbsp;&nbsp;&nbsp;<%= radio_button_tag 'question[answer]', value = index %><br/>
    <% else %>
      <%= text_field_tag "question[option[#{index}]]" %>&nbsp;&nbsp;&nbsp;&nbsp;<%= radio_button_tag 'question[answer]', value = index %><br/>
    <% end %>
  <% end %> 
  
<script>

if( "<%= params[:type] %>" == "Multiple Choice") {
  var options = $("input[id^= 'question_option_']");
  for(var i = 0; i<options.length; i++) {
    if (options[i].value == "<%= @question.answers.first.body %>") {
      var id = options[i].id.replace("option", "answer");
      document.getElementById(id).checked = true;
      break;
    }
  }
}

</script> 
<% else %>
  <%= text_field_tag "question[option[1]]" %>&nbsp;&nbsp;&nbsp;&nbsp;<%= radio_button_tag 'question[answer]', value = "1", true %><br/>
  <%= text_field_tag "question[option[2]]" %>&nbsp;&nbsp;&nbsp;&nbsp;<%= radio_button_tag 'question[answer]', value = "2" %><br/>
  <%= text_field_tag "question[option[3]]" %>&nbsp;&nbsp;&nbsp;&nbsp;<%= radio_button_tag 'question[answer]', value = "3" %><br/>
  <%= text_field_tag "question[option[4]]" %>&nbsp;&nbsp;&nbsp;&nbsp;<%= radio_button_tag 'question[answer]', value = "4" %>
<% end %>


